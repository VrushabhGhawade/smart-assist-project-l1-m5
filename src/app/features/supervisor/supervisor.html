<div class="dashboard-container">

  <!-- Welcome Card -->
  <mat-card class="welcome-card">
    <mat-card-title>
      Welcome, {{ userName }} ðŸ‘‹
    </mat-card-title>
    <mat-card-content>
      <!-- Here are your tickets and their statuses. -->
    </mat-card-content>
  </mat-card>
 <div class="filter-bar">
    <mat-chip-listbox #chipList (click)="onFilterChange(chipList.value)">
      <mat-chip-option value="ALL" selected>All</mat-chip-option>
      <mat-chip-option value="OPEN">Open</mat-chip-option>
      <mat-chip-option value="IN_PROGRESS">In Progress</mat-chip-option>
      <mat-chip-option value="RESOLVED">Resolved</mat-chip-option>
    </mat-chip-listbox>
  </div>
  <!-- Tickets Table -->
  <mat-card class="info-card">
    <mat-card-title>My Tickets</mat-card-title>
    <mat-card-content>
      <table class="ticket-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Description</th>
            <th>Status</th>
            <th>Age</th>
            <th>Created By</th>
            <th>Rating</th>
            <th>Action</th>
          </tr>
        </thead>

        <tbody>
          @for (ticket of filteredTickets; track ticket.ticketId) {
          <tr appInteractiveRow>
            <td>{{ ticket.ticketId }}</td>
            <td>{{ ticket.description }}</td>
            <td>{{ ticketStatus[ticket.status] }}</td>
            <td>{{ ticket.age }}</td>
            <td>{{ ticket.assignedToUserId }}</td>
            <td>{{ ticket.rating || '' }}</td>

            <td>
              <button mat-button color="primary" (click)="viewTicketDetails(ticket)">Assign</button>
            </td>
          </tr>
          } @empty {
          <tr>
            <td colspan="3" class="no-data">
              ðŸš« No tickets found
            </td>
          </tr>
          }
        </tbody>
      </table>
    </mat-card-content>
  </mat-card>
</div>